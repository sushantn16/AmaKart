{"ast":null,"code":"import { combineReducers } from \"redux\";\nimport authReducer from \"./auth\";\n\nconst mainReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    items: [],\n    totalAmount: 0\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case 'ADD_ITEM':\n      {\n        let items = [...state.items];\n        let index = items.findIndex(item => item.id === payload.item.id);\n\n        if (index > -1) {\n          items[index] = { ...items[index],\n            quantity: items[index].quantity + 1\n          };\n        } else {\n          items.push({ ...payload.item,\n            quantity: 1\n          });\n        }\n\n        const totalAmount = state.totalAmount + payload.item.discountedPrice;\n        return { ...state,\n          items: items,\n          totalAmount: totalAmount\n        };\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        let items = [...state.items];\n        let index = items.findIndex(item => item.id === payload.id);\n        const totalAmount = state.totalAmount - items[index].discountedPrice;\n\n        if (items[index].quantity === 1) {\n          items.splice(index, 1);\n        } else {\n          items[index] = { ...items[index],\n            quantity: items[index].quantity - 1\n          };\n        }\n\n        return { ...state,\n          items: items,\n          totalAmount: totalAmount\n        };\n      }\n\n    case 'CLEAR_CART':\n      {\n        return {\n          items: [],\n          totalAmount: 0\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default combineReducers({\n  cart: mainReducer,\n  auth: authReducer\n});","map":{"version":3,"names":["combineReducers","authReducer","mainReducer","state","items","totalAmount","action","type","payload","index","findIndex","item","id","quantity","push","discountedPrice","splice","cart","auth"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/reducers/index.js"],"sourcesContent":["import { combineReducers } from \"redux\";\nimport authReducer from \"./auth\";\n\nconst mainReducer = (state={\n    items:[],\n    totalAmount:0\n}, action) => {\n    const { type, payload } = action;\n    switch (type) {\n        case 'ADD_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.item.id)\n            if (index > -1) {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity + 1\n                }\n\n            } else {\n                items.push({\n                    ...payload.item,\n                    quantity: 1\n                })\n            }\n\n            const totalAmount = state.totalAmount + payload.item.discountedPrice;\n            return {\n                ...state,\n                items: items,\n                totalAmount: totalAmount\n            }\n        }\n\n        case 'REMOVE_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.id)\n            const totalAmount = state.totalAmount - items[index].discountedPrice\n\n            if (items[index].quantity === 1) {\n                items.splice(index, 1)\n            } else {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity - 1\n                    \n                }\n            }\n            return {\n                ...state,\n                items: items,\n                totalAmount: totalAmount\n            }\n        }\n\n        case 'CLEAR_CART': {\n            return {\n                items: [],\n                totalAmount: 0\n            }\n        }\n\n        default: return state\n    }\n}\nexport default combineReducers({\n    cart:mainReducer,\n    auth:authReducer\n});"],"mappings":"AAAA,SAASA,eAAT,QAAgC,OAAhC;AACA,OAAOC,WAAP,MAAwB,QAAxB;;AAEA,MAAMC,WAAW,GAAG,YAGN;EAAA,IAHOC,KAGP,uEAHa;IACvBC,KAAK,EAAC,EADiB;IAEvBC,WAAW,EAAC;EAFW,CAGb;EAAA,IAAXC,MAAW;EACV,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EACA,QAAQC,IAAR;IACI,KAAK,UAAL;MAAiB;QACb,IAAIH,KAAK,GAAG,CAAC,GAAGD,KAAK,CAACC,KAAV,CAAZ;QACA,IAAIK,KAAK,GAAGL,KAAK,CAACM,SAAN,CAAgBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,OAAO,CAACG,IAAR,CAAaC,EAAjD,CAAZ;;QACA,IAAIH,KAAK,GAAG,CAAC,CAAb,EAAgB;UACZL,KAAK,CAACK,KAAD,CAAL,GAAe,EACX,GAAGL,KAAK,CAACK,KAAD,CADG;YAEXI,QAAQ,EAAET,KAAK,CAACK,KAAD,CAAL,CAAaI,QAAb,GAAwB;UAFvB,CAAf;QAKH,CAND,MAMO;UACHT,KAAK,CAACU,IAAN,CAAW,EACP,GAAGN,OAAO,CAACG,IADJ;YAEPE,QAAQ,EAAE;UAFH,CAAX;QAIH;;QAED,MAAMR,WAAW,GAAGF,KAAK,CAACE,WAAN,GAAoBG,OAAO,CAACG,IAAR,CAAaI,eAArD;QACA,OAAO,EACH,GAAGZ,KADA;UAEHC,KAAK,EAAEA,KAFJ;UAGHC,WAAW,EAAEA;QAHV,CAAP;MAKH;;IAED,KAAK,aAAL;MAAoB;QAChB,IAAID,KAAK,GAAG,CAAC,GAAGD,KAAK,CAACC,KAAV,CAAZ;QACA,IAAIK,KAAK,GAAGL,KAAK,CAACM,SAAN,CAAgBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYJ,OAAO,CAACI,EAA5C,CAAZ;QACA,MAAMP,WAAW,GAAGF,KAAK,CAACE,WAAN,GAAoBD,KAAK,CAACK,KAAD,CAAL,CAAaM,eAArD;;QAEA,IAAIX,KAAK,CAACK,KAAD,CAAL,CAAaI,QAAb,KAA0B,CAA9B,EAAiC;UAC7BT,KAAK,CAACY,MAAN,CAAaP,KAAb,EAAoB,CAApB;QACH,CAFD,MAEO;UACHL,KAAK,CAACK,KAAD,CAAL,GAAe,EACX,GAAGL,KAAK,CAACK,KAAD,CADG;YAEXI,QAAQ,EAAET,KAAK,CAACK,KAAD,CAAL,CAAaI,QAAb,GAAwB;UAFvB,CAAf;QAKH;;QACD,OAAO,EACH,GAAGV,KADA;UAEHC,KAAK,EAAEA,KAFJ;UAGHC,WAAW,EAAEA;QAHV,CAAP;MAKH;;IAED,KAAK,YAAL;MAAmB;QACf,OAAO;UACHD,KAAK,EAAE,EADJ;UAEHC,WAAW,EAAE;QAFV,CAAP;MAIH;;IAED;MAAS,OAAOF,KAAP;EArDb;AAuDH,CA5DD;;AA6DA,eAAeH,eAAe,CAAC;EAC3BiB,IAAI,EAACf,WADsB;EAE3BgB,IAAI,EAACjB;AAFsB,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}