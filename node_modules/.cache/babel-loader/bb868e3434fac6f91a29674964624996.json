{"ast":null,"code":"import axios from \"axios\";\nexport const addItemHandler = item => {\n  return dispatch => {\n    dispatch({\n      type: \"ADD_ITEM\",\n      payload: {\n        item: item\n      }\n    });\n  };\n};\nexport const removeItemHandler = id => {\n  return dispatch => {\n    dispatch({\n      type: \"REMOVE_ITEM\",\n      payload: {\n        id: id\n      }\n    });\n  };\n};\nexport const clearItemHandler = () => {\n  return dispatch => {\n    dispatch({\n      type: \"CLEAR_CART\"\n    });\n  };\n};\nexport const placeOrderHandler = callback => {\n  return async (dispatch, getState) => {\n    try {\n      const {\n        auth,\n        cart\n      } = getState();\n\n      if (!auth.idToken) {\n        return callback({\n          error: true,\n          data: {\n            error: \"Please login to save the order.\"\n          }\n        });\n      }\n\n      await axios.post(`https://shopping-app-b9c1a-default-rtdb.firebaseio.com/orders/${auth.localId}.json?auth=${auth.idToken}`, { ...cart\n      });\n      dispatch({\n        type: \"CLEAR_CART\"\n      });\n      return callback({\n        error: false\n      });\n    } catch (error) {\n      return callback({\n        error: true,\n        ...error.response\n      });\n    }\n  };\n};","map":{"version":3,"names":["axios","addItemHandler","item","dispatch","type","payload","removeItemHandler","id","clearItemHandler","placeOrderHandler","callback","getState","auth","cart","idToken","error","data","post","localId","response"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/actions/index.js"],"sourcesContent":["import axios from \"axios\"\n\nexport const addItemHandler = (item) => {\n    return dispatch => {\n        dispatch({\n            type: \"ADD_ITEM\",\n            payload: {\n                item: item\n            }\n        })\n    }\n\n}\nexport const removeItemHandler = (id) => {\n    return dispatch => {\n        dispatch({\n            type: \"REMOVE_ITEM\",\n            payload: {\n                id: id\n            }\n        })\n    }\n}\nexport const clearItemHandler = () => {\n    return dispatch => {\n        dispatch({\n            type: \"CLEAR_CART\",\n        })\n    }\n}\n\nexport const placeOrderHandler = (callback) => {\n    return async (dispatch, getState) => {\n        try{\n            const{auth, cart } = getState()\n            if(!auth.idToken){\n                return callback({\n                    error:true,\n                    data:{\n                        error:\"Please login to save the order.\"\n                    }\n                })\n            }\n            await axios.post(`https://shopping-app-b9c1a-default-rtdb.firebaseio.com/orders/${auth.localId}.json?auth=${auth.idToken}`,{\n                ...cart\n            })\n            dispatch({\n                type: \"CLEAR_CART\",\n            })\n            return callback({\n                error:false\n            })\n        }catch(error){\n            return callback({\n                error:true,\n                ...error.response\n            })\n        }\n        \n    }\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAIC,IAAD,IAAU;EACpC,OAAOC,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE,UADD;MAELC,OAAO,EAAE;QACLH,IAAI,EAAEA;MADD;IAFJ,CAAD,CAAR;EAMH,CAPD;AASH,CAVM;AAWP,OAAO,MAAMI,iBAAiB,GAAIC,EAAD,IAAQ;EACrC,OAAOJ,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE,aADD;MAELC,OAAO,EAAE;QACLE,EAAE,EAAEA;MADC;IAFJ,CAAD,CAAR;EAMH,CAPD;AAQH,CATM;AAUP,OAAO,MAAMC,gBAAgB,GAAG,MAAM;EAClC,OAAOL,QAAQ,IAAI;IACfA,QAAQ,CAAC;MACLC,IAAI,EAAE;IADD,CAAD,CAAR;EAGH,CAJD;AAKH,CANM;AAQP,OAAO,MAAMK,iBAAiB,GAAIC,QAAD,IAAc;EAC3C,OAAO,OAAOP,QAAP,EAAiBQ,QAAjB,KAA8B;IACjC,IAAG;MACC,MAAK;QAACC,IAAD;QAAOC;MAAP,IAAgBF,QAAQ,EAA7B;;MACA,IAAG,CAACC,IAAI,CAACE,OAAT,EAAiB;QACb,OAAOJ,QAAQ,CAAC;UACZK,KAAK,EAAC,IADM;UAEZC,IAAI,EAAC;YACDD,KAAK,EAAC;UADL;QAFO,CAAD,CAAf;MAMH;;MACD,MAAMf,KAAK,CAACiB,IAAN,CAAY,iEAAgEL,IAAI,CAACM,OAAQ,cAAaN,IAAI,CAACE,OAAQ,EAAnH,EAAqH,EACvH,GAAGD;MADoH,CAArH,CAAN;MAGAV,QAAQ,CAAC;QACLC,IAAI,EAAE;MADD,CAAD,CAAR;MAGA,OAAOM,QAAQ,CAAC;QACZK,KAAK,EAAC;MADM,CAAD,CAAf;IAGH,CAnBD,CAmBC,OAAMA,KAAN,EAAY;MACT,OAAOL,QAAQ,CAAC;QACZK,KAAK,EAAC,IADM;QAEZ,GAAGA,KAAK,CAACI;MAFG,CAAD,CAAf;IAIH;EAEJ,CA3BD;AA4BH,CA7BM"},"metadata":{},"sourceType":"module"}