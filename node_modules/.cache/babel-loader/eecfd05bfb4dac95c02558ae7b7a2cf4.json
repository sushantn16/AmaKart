{"ast":null,"code":"const mainReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case 'ADD_ITEM':\n      {\n        let items = [...state.items];\n        let index = items.findIndex(item => item.id === payload.item.id);\n\n        if (index > -1) {\n          items[index] = { ...items[index],\n            quantity: items[index].quantity + 1\n          };\n        } else {\n          items.push({ ...payload.item,\n            quantity: 1\n          });\n        }\n\n        const totalAmount = state.totalAmount + payload.item.discountedPrice;\n        return { ...state,\n          items: items,\n          totalAmount: totalAmount\n        };\n      }\n\n    case 'REMOVE_ITEM':\n      {\n        let items = [...state.items];\n        let index = items.findIndex(item => item.id === payload.id);\n        const totalAmount = state.totalAmounl - items[index].discountedPrice;\n\n        if (items[index].quantity === 1) {\n          items.splice(index, 1);\n        } else {\n          items[index] = { ...items[index],\n            quantity: items[index].quantity - 1,\n            totalAmount: totalAmount\n          };\n        }\n\n        return { ...state,\n          items: items\n        };\n      }\n\n    case 'CLEAR_CART':\n      {\n        return {\n          items: [],\n          totalAmount: 0\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default mainReducer;","map":{"version":3,"names":["mainReducer","state","action","type","payload","items","index","findIndex","item","id","quantity","push","totalAmount","discountedPrice","totalAmounl","splice"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/reducers/index.js"],"sourcesContent":["const mainReducer = (state, action) => {\n    const { type, payload } = action;\n    switch (type) {\n        case 'ADD_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.item.id)\n            if (index > -1) {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity + 1\n                }\n\n            } else {\n                items.push({\n                    ...payload.item,\n                    quantity: 1\n                })\n            }\n\n            const totalAmount = state.totalAmount + payload.item.discountedPrice;\n            return {\n                ...state,\n                items: items,\n                totalAmount: totalAmount\n            }\n        }\n\n        case 'REMOVE_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.id)\n            const totalAmount = state.totalAmounl - items[index].discountedPrice\n\n            if (items[index].quantity === 1) {\n                items.splice(index, 1)\n            } else {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity - 1,\n                    totalAmount: totalAmount\n                }\n            }\n            return {\n                ...state,\n                items: items\n            }\n        }\n\n        case 'CLEAR_CART': {\n            return {\n                items: [],\n                totalAmount: 0\n            }\n        }\n\n        default: return state\n    }\n}\nexport default mainReducer;"],"mappings":"AAAA,MAAMA,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACnC,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBF,MAA1B;;EACA,QAAQC,IAAR;IACI,KAAK,UAAL;MAAiB;QACb,IAAIE,KAAK,GAAG,CAAC,GAAGJ,KAAK,CAACI,KAAV,CAAZ;QACA,IAAIC,KAAK,GAAGD,KAAK,CAACE,SAAN,CAAgBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACI,IAAR,CAAaC,EAAjD,CAAZ;;QACA,IAAIH,KAAK,GAAG,CAAC,CAAb,EAAgB;UACZD,KAAK,CAACC,KAAD,CAAL,GAAe,EACX,GAAGD,KAAK,CAACC,KAAD,CADG;YAEXI,QAAQ,EAAEL,KAAK,CAACC,KAAD,CAAL,CAAaI,QAAb,GAAwB;UAFvB,CAAf;QAKH,CAND,MAMO;UACHL,KAAK,CAACM,IAAN,CAAW,EACP,GAAGP,OAAO,CAACI,IADJ;YAEPE,QAAQ,EAAE;UAFH,CAAX;QAIH;;QAED,MAAME,WAAW,GAAGX,KAAK,CAACW,WAAN,GAAoBR,OAAO,CAACI,IAAR,CAAaK,eAArD;QACA,OAAO,EACH,GAAGZ,KADA;UAEHI,KAAK,EAAEA,KAFJ;UAGHO,WAAW,EAAEA;QAHV,CAAP;MAKH;;IAED,KAAK,aAAL;MAAoB;QAChB,IAAIP,KAAK,GAAG,CAAC,GAAGJ,KAAK,CAACI,KAAV,CAAZ;QACA,IAAIC,KAAK,GAAGD,KAAK,CAACE,SAAN,CAAgBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACK,EAA5C,CAAZ;QACA,MAAMG,WAAW,GAAGX,KAAK,CAACa,WAAN,GAAoBT,KAAK,CAACC,KAAD,CAAL,CAAaO,eAArD;;QAEA,IAAIR,KAAK,CAACC,KAAD,CAAL,CAAaI,QAAb,KAA0B,CAA9B,EAAiC;UAC7BL,KAAK,CAACU,MAAN,CAAaT,KAAb,EAAoB,CAApB;QACH,CAFD,MAEO;UACHD,KAAK,CAACC,KAAD,CAAL,GAAe,EACX,GAAGD,KAAK,CAACC,KAAD,CADG;YAEXI,QAAQ,EAAEL,KAAK,CAACC,KAAD,CAAL,CAAaI,QAAb,GAAwB,CAFvB;YAGXE,WAAW,EAAEA;UAHF,CAAf;QAKH;;QACD,OAAO,EACH,GAAGX,KADA;UAEHI,KAAK,EAAEA;QAFJ,CAAP;MAIH;;IAED,KAAK,YAAL;MAAmB;QACf,OAAO;UACHA,KAAK,EAAE,EADJ;UAEHO,WAAW,EAAE;QAFV,CAAP;MAIH;;IAED;MAAS,OAAOX,KAAP;EApDb;AAsDH,CAxDD;;AAyDA,eAAeD,WAAf"},"metadata":{},"sourceType":"module"}