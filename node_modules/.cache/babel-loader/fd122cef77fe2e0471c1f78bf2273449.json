{"ast":null,"code":"import _defineProperty from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect}from\"react\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import{NavLink,useLocation,useNavigate}from\"react-router-dom\";import{signupWithEmailAndPassword,LoginWithEmailAndPassword}from\"../../actions/auth\";import Loader from\"../UI/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AuthIndex=function AuthIndex(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),params=_useState2[0],setParams=_useState2[1];var location=useLocation();useEffect(function(){setParams(location.pathname.replace('/',''));},[location]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showLoader=_useState4[0],setShowLoader=_useState4[1];var _useState5=useState({email:'',password:''}),_useState6=_slicedToArray(_useState5,2),details=_useState6[0],setDetails=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();var handleInput=function handleInput(e){setDetails(_objectSpread(_objectSpread({},details),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){return function(){setShowLoader(false);setDetails(false);};},[]);var handleSubmission=function handleSubmission(e){e.preventDefault();setShowLoader(true);if(params===\"signup\"){// signupWithEmailAndPassword()\nsetShowLoader(true);dispatch(signupWithEmailAndPassword(details,function(data){if(data.error){alert(\"Some error\");}else{console.log(\"sucessfully signed up\");navigate('/');}setShowLoader(false);}));}else if(params===\"login\"){setShowLoader(true);dispatch(LoginWithEmailAndPassword(details,function(data){if(data.error){alert(\"Some error\");}else{console.log(\"sucessfully Logged in\");navigate('/');}setShowLoader(false);}));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container--box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-selector\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/login\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Login\"})}),/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Signup\"})})]}),/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",onSubmit:handleSubmission,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"Enter Email\",value:details.email,onChange:handleInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter Password\",value:details.password,onChange:handleInput})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-wrap\",children:/*#__PURE__*/_jsx(\"button\",{className:\"login-btn\",children:params===\"login\"?\"Login\":\"Signup\"})})]})]})}),showLoader&&/*#__PURE__*/_jsx(Loader,{})]});};export default AuthIndex;","map":{"version":3,"names":["useEffect","useState","useDispatch","NavLink","useLocation","useNavigate","signupWithEmailAndPassword","LoginWithEmailAndPassword","Loader","AuthIndex","params","setParams","location","pathname","replace","showLoader","setShowLoader","email","password","details","setDetails","dispatch","navigate","handleInput","e","target","name","value","handleSubmission","preventDefault","data","error","alert","console","log"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/components/Auth/index.js"],"sourcesContent":["\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { NavLink, useLocation, useNavigate } from \"react-router-dom\";\nimport { signupWithEmailAndPassword, LoginWithEmailAndPassword } from \"../../actions/auth\";\nimport Loader from \"../UI/Loader\";\nconst AuthIndex = () => {\n    const [params, setParams] = useState('');\n    const location = useLocation()\n    useEffect(() => {\n        setParams(location.pathname.replace('/', ''))\n    }, [location])\n\n    const [showLoader, setShowLoader] = useState(false)\n    const [details, setDetails] = useState({\n        email: '',\n        password: ''\n    })\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n\n    const handleInput = (e) => {\n        setDetails({\n            ...details,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    useEffect(()=>{\n        return ()=> {setShowLoader(false)\n        setDetails(false)\n    }\n    },[])\n    const handleSubmission = (e) => {\n        e.preventDefault();\n        setShowLoader(true)\n        if (params === \"signup\") {\n            // signupWithEmailAndPassword()\n            setShowLoader(true)\n            dispatch(signupWithEmailAndPassword(details, (data) => {\n                if (data.error) {\n                    alert(\"Some error\")\n                } else {\n                    console.log(\"sucessfully signed up\")\n                    navigate('/')\n                }\n                setShowLoader(false)\n            }))\n        } else if (params === \"login\") {\n            setShowLoader(true)\n            dispatch(LoginWithEmailAndPassword(details, (data) => {\n                if (data.error) {\n                    alert(\"Some error\")\n                } else {\n                    console.log(\"sucessfully Logged in\")\n                    navigate('/')\n                }\n                setShowLoader(false)\n            }))\n        }\n    }\n\n\n\n    return (\n        <>\n            <div className=\"auth-container\">\n                <div className=\"auth-container--box\">\n                    <div className=\"tab-selector\">\n                        <NavLink to={\"/login\"}><h3>Login</h3></NavLink>\n                        <NavLink to={\"/signup\"}><h3>Signup</h3></NavLink>\n                    </div>\n                    <form autoComplete={\"off\"} onSubmit={handleSubmission}>\n                        <div className=\"input-wrap\">\n                            <label htmlFor=\"email\">Email</label>\n                            <input\n                                type=\"text\"\n                                name=\"email\"\n                                placeholder=\"Enter Email\"\n                                value={details.email}\n                                onChange={handleInput}\n                            />\n                        </div>\n                        <div className=\"input-wrap\">\n                            <label htmlFor=\"password\">Password</label>\n                            <input\n                                type=\"password\"\n                                name=\"password\"\n                                placeholder=\"Enter Password\"\n                                value={details.password}\n                                onChange={handleInput}\n                            />\n                        </div>\n                        <div className=\"button-wrap\">\n                            <button className=\"login-btn\">\n                                {params === \"login\" ? \"Login\" : \"Signup\"}\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n            {showLoader && <Loader />}\n        </>\n    )\n}\nexport default AuthIndex;"],"mappings":"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"},"metadata":{},"sourceType":"module"}