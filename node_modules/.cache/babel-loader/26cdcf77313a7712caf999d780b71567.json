{"ast":null,"code":"import _slicedToArray from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Modal from\"../UI/Modal\";import{useState}from\"react\";import CartItem from\"./CartItem\";import OrderSucess from\"../UI/OrderSucess\";import{useSelector}from\"react-redux\";import{useDispatch}from\"react-redux\";import{addItemHandler,removeItemHandler,placeOrderHandler}from\"../../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=function Cart(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showCartModal=_useState2[0],setShowCartModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),orderModal=_useState4[0],setOrderModal=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),orderId=_useState6[0],setOrderId=_useState6[1];var items=useSelector(function(state){return state.cart.items;});var totalAmount=useSelector(function(state){return state.cart.totalAmount;});var count=items.length;var dispatch=useDispatch();var handleCartModal=function handleCartModal(){setShowCartModal(function(showCartModal){return!showCartModal;});};var handleOrderModal=function handleOrderModal(){setShowCartModal(false);setOrderModal(function(orderModal){return!orderModal;});};var orderHandler=function orderHandler(){dispatch(placeOrderHandler(function(response){console.log(response);if(response.error){alert(response.data.error||\"Some error occoured, Please try again\");}else{setOrderId(response.data.name);setShowCartModal(false);setOrderModal(function(previous){return!previous;});}}));};var dispatchEvents=function dispatchEvents(type,item){if(type===1){dispatch(addItemHandler(item));}else if(type===-1){dispatch(removeItemHandler(item.id));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleCartModal,children:[/*#__PURE__*/_jsx(\"span\",{\"data-items\":count,children:\"Cart\"}),/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"icon icon-tabler icon-tabler-shopping-cart-plus\",width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"white\",fill:\"none\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{stroke:\"none\",d:\"M0 0h24v24H0z\",fill:\"none\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"6\",cy:\"19\",r:\"2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"17\",cy:\"19\",r:\"2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M17 17h-11v-14h-2\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M6 5l6.005 .429m7.138 6.573l-.143 .998h-13\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M15 6h6m-3 -3v6\"})]})]}),showCartModal&&/*#__PURE__*/_jsx(Modal,{onClose:handleCartModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-modal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Checkout Modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkout-modal_list\",children:count>0?items.map(function(item){return/*#__PURE__*/_jsx(CartItem,{item:item,onEmitDecreaseCounter:function onEmitDecreaseCounter(item){return dispatchEvents(-1,item);},onEmitIncreaseCounter:function onEmitIncreaseCounter(item){return dispatchEvents(1,item);}},item.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-cart\",children:\"Please add something in your cart!\"})}),count>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-modal_footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"totalAmount\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Total Amount: \"}),/*#__PURE__*/_jsxs(\"h4\",{children:[totalAmount,/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"4px\"},children:\"INR\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:orderHandler,children:\"Order Now\"})]})]})}),orderModal&&/*#__PURE__*/_jsx(OrderSucess,{orderId:orderId,onClose:handleOrderModal})]});};export default Cart;","map":{"version":3,"names":["Modal","useState","CartItem","OrderSucess","useSelector","useDispatch","addItemHandler","removeItemHandler","placeOrderHandler","Cart","showCartModal","setShowCartModal","orderModal","setOrderModal","orderId","setOrderId","items","state","cart","totalAmount","count","length","dispatch","handleCartModal","handleOrderModal","orderHandler","response","console","log","error","alert","data","name","previous","dispatchEvents","type","item","id","map","marginLeft"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/components/Cart/index.js"],"sourcesContent":["import Modal from \"../UI/Modal\";\nimport { useState } from \"react\";\nimport CartItem from \"./CartItem\";\nimport OrderSucess from \"../UI/OrderSucess\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { addItemHandler, removeItemHandler, placeOrderHandler } from \"../../actions\"\n\n\nconst Cart = () => {\n\n    const [showCartModal, setShowCartModal] = useState(false);\n    const [orderModal, setOrderModal] = useState(false);\n    const [orderId, setOrderId] = useState(\"\");\n    const items = useSelector(state => state.cart.items);\n    const totalAmount = useSelector(state => state.cart.totalAmount)\n    const count = items.length;\n    const dispatch = useDispatch()\n\n    const handleCartModal = () => {\n        setShowCartModal(showCartModal => !showCartModal);\n    }\n\n    const handleOrderModal = () => {\n        setShowCartModal(false);\n        setOrderModal(orderModal => !orderModal);\n    }\n    const orderHandler = () => {\n\n        dispatch(placeOrderHandler((response) => {\n            console.log(response)\n            if (response.error) {\n                alert(response.data.error||\"Some error occoured, Please try again\")\n            } else {\n                setOrderId(response.data.name)\n                setShowCartModal(false);\n                setOrderModal(previous => !previous);\n            }\n        }))\n\n    }\n\n    const dispatchEvents = (type, item) => {\n        if (type === 1) {\n            dispatch(addItemHandler(item))\n        } else if (type === -1) {\n            dispatch(removeItemHandler(item.id))\n        }\n    }\n    return (\n        <>\n            <button onClick={handleCartModal}>\n                <span data-items={count}>Cart</span>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"icon icon-tabler icon-tabler-shopping-cart-plus\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"white\" fill=\"none\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n                    <circle cx=\"6\" cy=\"19\" r=\"2\" />\n                    <circle cx=\"17\" cy=\"19\" r=\"2\" />\n                    <path d=\"M17 17h-11v-14h-2\" />\n                    <path d=\"M6 5l6.005 .429m7.138 6.573l-.143 .998h-13\" />\n                    <path d=\"M15 6h6m-3 -3v6\" />\n                </svg>\n            </button>\n            {showCartModal && <Modal onClose={handleCartModal}>\n                <div className=\"checkout-modal\">\n                    <h2>Checkout Modal</h2>\n                    <div className=\"checkout-modal_list\">\n                        {\n                            count > 0 ?\n\n                                items.map((item) => {\n                                    return <CartItem item={item} key={item.id} onEmitDecreaseCounter={item => dispatchEvents(-1, item)} onEmitIncreaseCounter={item => dispatchEvents(1, item)} />\n                                })\n\n                                :\n                                <div className=\"empty-cart\">Please add something in your cart!</div>\n                        }\n                    </div>\n                    {\n                        count > 0 &&\n\n                        <div className=\"checkout-modal_footer\">\n                            <div className=\"totalAmount\">\n                                <h4>Total Amount: </h4>\n                                <h4>{totalAmount}\n                                    <span style={{ marginLeft: \"4px\" }}>INR</span>\n                                </h4>\n                            </div>\n                            <button onClick={orderHandler}>Order Now</button>\n                        </div>\n\n                    }\n                </div>\n            </Modal>}\n            {\n                orderModal && <OrderSucess orderId={orderId} onClose={handleOrderModal} />\n            }\n        </>\n    )\n\n}\nexport default Cart;"],"mappings":"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"},"metadata":{},"sourceType":"module"}