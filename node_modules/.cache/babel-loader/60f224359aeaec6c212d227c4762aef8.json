{"ast":null,"code":"import _objectSpread from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/sushantnandwani/Desktop/shopping-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{combineReducers}from\"redux\";import authReducer from\"./auth\";var mainReducer=function mainReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{items:[],totalAmount:0};var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case'ADD_ITEM':{var items=_toConsumableArray(state.items);var index=items.findIndex(function(item){return item.id===payload.item.id;});if(index>-1){items[index]=_objectSpread(_objectSpread({},items[index]),{},{quantity:items[index].quantity+1});}else{items.push(_objectSpread(_objectSpread({},payload.item),{},{quantity:1}));}var totalAmount=state.totalAmount+payload.item.discountedPrice;return _objectSpread(_objectSpread({},state),{},{items:items,totalAmount:totalAmount});}case'REMOVE_ITEM':{var _items=_toConsumableArray(state.items);var _index=_items.findIndex(function(item){return item.id===payload.id;});var _totalAmount=state.totalAmount-_items[_index].discountedPrice;if(_items[_index].quantity===1){_items.splice(_index,1);}else{_items[_index]=_objectSpread(_objectSpread({},_items[_index]),{},{quantity:_items[_index].quantity-1});}return _objectSpread(_objectSpread({},state),{},{items:_items,totalAmount:_totalAmount});}case'CLEAR_CART':{return{items:[],totalAmount:0};}default:return state;}};export default combineReducers({cart:mainReducer,auth:authReducer});","map":{"version":3,"names":["combineReducers","authReducer","mainReducer","state","items","totalAmount","action","type","payload","index","findIndex","item","id","quantity","push","discountedPrice","splice","cart","auth"],"sources":["/Users/sushantnandwani/Desktop/shopping-app/src/reducers/index.js"],"sourcesContent":["import { combineReducers } from \"redux\";\nimport authReducer from \"./auth\";\n\nconst mainReducer = (state={\n    items:[],\n    totalAmount:0\n}, action) => {\n    const { type, payload } = action;\n    switch (type) {\n        case 'ADD_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.item.id)\n            if (index > -1) {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity + 1\n                }\n\n            } else {\n                items.push({\n                    ...payload.item,\n                    quantity: 1\n                })\n            }\n\n            const totalAmount = state.totalAmount + payload.item.discountedPrice;\n            return {\n                ...state,\n                items: items,\n                totalAmount: totalAmount\n            }\n        }\n\n        case 'REMOVE_ITEM': {\n            let items = [...state.items]\n            let index = items.findIndex(item => item.id === payload.id)\n            const totalAmount = state.totalAmount - items[index].discountedPrice\n\n            if (items[index].quantity === 1) {\n                items.splice(index, 1)\n            } else {\n                items[index] = {\n                    ...items[index],\n                    quantity: items[index].quantity - 1\n                    \n                }\n            }\n            return {\n                ...state,\n                items: items,\n                totalAmount: totalAmount\n            }\n        }\n\n        case 'CLEAR_CART': {\n            return {\n                items: [],\n                totalAmount: 0\n            }\n        }\n\n        default: return state\n    }\n}\nexport default combineReducers({\n    cart:mainReducer,\n    auth:authReducer\n});"],"mappings":"yQAAA,OAASA,eAAT,KAAgC,OAAhC,CACA,MAAOC,YAAP,KAAwB,QAAxB,CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAGN,IAHOC,MAGP,2DAHa,CACvBC,KAAK,CAAC,EADiB,CAEvBC,WAAW,CAAC,CAFW,CAGb,IAAXC,OAAW,2CACV,GAAQC,KAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CACA,OAAQD,IAAR,EACI,IAAK,UAAL,CAAiB,CACb,GAAIH,MAAK,oBAAOD,KAAK,CAACC,KAAb,CAAT,CACA,GAAIK,MAAK,CAAGL,KAAK,CAACM,SAAN,CAAgB,SAAAC,IAAI,QAAIA,KAAI,CAACC,EAAL,GAAYJ,OAAO,CAACG,IAAR,CAAaC,EAA7B,EAApB,CAAZ,CACA,GAAIH,KAAK,CAAG,CAAC,CAAb,CAAgB,CACZL,KAAK,CAACK,KAAD,CAAL,gCACOL,KAAK,CAACK,KAAD,CADZ,MAEII,QAAQ,CAAET,KAAK,CAACK,KAAD,CAAL,CAAaI,QAAb,CAAwB,CAFtC,GAKH,CAND,IAMO,CACHT,KAAK,CAACU,IAAN,gCACON,OAAO,CAACG,IADf,MAEIE,QAAQ,CAAE,CAFd,IAIH,CAED,GAAMR,YAAW,CAAGF,KAAK,CAACE,WAAN,CAAoBG,OAAO,CAACG,IAAR,CAAaI,eAArD,CACA,sCACOZ,KADP,MAEIC,KAAK,CAAEA,KAFX,CAGIC,WAAW,CAAEA,WAHjB,GAKH,CAED,IAAK,aAAL,CAAoB,CAChB,GAAID,OAAK,oBAAOD,KAAK,CAACC,KAAb,CAAT,CACA,GAAIK,OAAK,CAAGL,MAAK,CAACM,SAAN,CAAgB,SAAAC,IAAI,QAAIA,KAAI,CAACC,EAAL,GAAYJ,OAAO,CAACI,EAAxB,EAApB,CAAZ,CACA,GAAMP,aAAW,CAAGF,KAAK,CAACE,WAAN,CAAoBD,MAAK,CAACK,MAAD,CAAL,CAAaM,eAArD,CAEA,GAAIX,MAAK,CAACK,MAAD,CAAL,CAAaI,QAAb,GAA0B,CAA9B,CAAiC,CAC7BT,MAAK,CAACY,MAAN,CAAaP,MAAb,CAAoB,CAApB,EACH,CAFD,IAEO,CACHL,MAAK,CAACK,MAAD,CAAL,gCACOL,MAAK,CAACK,MAAD,CADZ,MAEII,QAAQ,CAAET,MAAK,CAACK,MAAD,CAAL,CAAaI,QAAb,CAAwB,CAFtC,GAKH,CACD,sCACOV,KADP,MAEIC,KAAK,CAAEA,MAFX,CAGIC,WAAW,CAAEA,YAHjB,GAKH,CAED,IAAK,YAAL,CAAmB,CACf,MAAO,CACHD,KAAK,CAAE,EADJ,CAEHC,WAAW,CAAE,CAFV,CAAP,CAIH,CAED,QAAS,MAAOF,MAAP,CArDb,CAuDH,CA5DD,CA6DA,cAAeH,gBAAe,CAAC,CAC3BiB,IAAI,CAACf,WADsB,CAE3BgB,IAAI,CAACjB,WAFsB,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}